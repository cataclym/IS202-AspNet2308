@{
    Layout = "_Layout";
}

<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="user-registration">
<div class="register-container">
<h3 class="register-title">Endre passord</h3>
<div class="login-form">
    <form asp-controller="Account" asp-action="ChangePassword" method="post" class="register-form">
        
        <div class="form-group">
            <label for="currentPassword">Nåværende passord:</label>
            <div class="password-wrapper">
                <input type="password" id="currentPassword" name="currentPassword" required>
                <span class="password-toggle" onclick="togglePassword('currentPassword', 'eyeIconCurrent')">
                    <i class="fas fa-eye-slash" id="eyeIconCurrent" style="font-size: 18px;"></i>
                </span>
            </div>
        </div>
        
        <div class="form-group">
            <label for="newPassword">Nytt passord:</label>
            <div class="password-wrapper">
                <input type="password" id="newPassword" name="newPassword" required>
                <span class="password-toggle" onclick="togglePassword('newPassword', 'eyeIconNew')">
                    <i class="fas fa-eye-slash" id="eyeIconNew" style="font-size: 18px;"></i>
                </span>
            </div>
        </div>

        <div class="form-group">
            <label for="confirmPassword">Bekreft nytt passord:</label>
            <div class="password-wrapper">
                <input type="password" id="confirmPassword" name="confirmPassword" required>
                <span class="password-toggle" onclick="togglePassword('confirmPassword', 'eyeIconConfirm')">
                    <i class="fas fa-eye-slash" id="eyeIconConfirm" style="font-size: 18px;"></i>
                </span>
            </div>
        </div>

        <div class="center-horizontal">
            <button type="submit" class="btn-general btn-changepassword">Lagre nytt passord
                <i class="bi bi-lock-fill"></i>
            </button>
        </div>
    </form>
</div>
</div>

<script>
    function togglePassword(fieldId, iconId) {
        const passwordField = document.getElementById(fieldId);
        const eyeIcon = document.getElementById(iconId);
        
        const isPasswordHidden = passwordField.getAttribute("type") === "password";
        passwordField.setAttribute("type", isPasswordHidden ? "text" : "password");

        // Toggle between the eye-slash and eye icons
        if (isPasswordHidden) {
            eyeIcon.classList.remove("fa-eye-slash");
            eyeIcon.classList.add("fa-eye");
        } else {
            eyeIcon.classList.remove("fa-eye");
            eyeIcon.classList.add("fa-eye-slash");
        }
    }
</script>
</body>
</html>
